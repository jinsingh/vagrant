server {
  listen       8111;
  server_name  token-service.staging.ida.digital.cabinet-office.gov.uk;

  location / {
      resolver 8.8.8.8;
      proxy_set_header Accept-Encoding "";
      proxy_pass https://token-service.staging.ida.digital.cabinet-office.gov.uk$uri$is_args$args;
  }

  location ~ ^/([0-9]+/)?$ {
      resolver 8.8.8.8;
      proxy_set_header Accept-Encoding "";
      proxy_pass https://token-service.staging.ida.digital.cabinet-office.gov.uk$uri$is_args$args;
  }
}